@namespace Masa.Stack.Components
@inherits MasaComponentBase

<MAutocomplete Value="Value"
               ValueChanged="ValueChanged"
               OnSearchInputUpdate=OnSearchChanged
               Items="UserSelect"
               Color="primary"
               Label="@I18nLabel"
               ItemText="u=>TextView(u)"
               ItemValue="u=>u.Id"
               Filter="(item,search,value) => true"
               Flat="@Flat"
               Dense="@Dense"
               Solo="@Solo"
               Outlined="@Outlined"
               Placeholder="@Placeholder"
               PersistentPlaceholder="@PersistentPlaceholder"
               BackgroundColor="@(FillBackground?"fill-background":"")"
               HideDetails="@("auto")"
               Style="@($"width:340px;height:40px;{Style}")"
               Class="@($"{Class} rounded-2")"
               Clearable=Clearable>
    <ItemContent Context="data">
        <div class="d-flex py-2" style="height:64px;">
            <MAvatar Size=30 Class="ma-auto">
                <img src="@data.Item.Avatar" />
            </MAvatar>
            <div class="ma-auto ml-2">
                <div class="d-flex">
                    <span class="Body2 emphasis2--text">@data.Item.DisplayName</span>
                    @if (string.IsNullOrEmpty(data.Item.DisplayName) is false && string.IsNullOrEmpty(data.Item.PhoneNumber) is false)
                    {
                        <div class="my-auto mx-2" style="width: 0px;height: 8px;border: 1px solid #E2E7F4;"></div>
                    }
                    <span class="btn emphasis2--text">@data.Item.PhoneNumber</span>
                </div>
                <div class="d-flex">
                    <span class="overline regular3--text">@data.Item.Account</span>
                    @if (string.IsNullOrEmpty(data.Item.Account) is false && string.IsNullOrEmpty(data.Item.Email) is false)
                    {
                        <div class="my-auto mx-2" style="width: 0px;height: 8px;border: 1px solid #E2E7F4;"></div>
                    }
                    <span class="overline regular3--text">@data.Item.Email</span>
                </div>
            </div>
        </div>
    </ItemContent>
</MAutocomplete>