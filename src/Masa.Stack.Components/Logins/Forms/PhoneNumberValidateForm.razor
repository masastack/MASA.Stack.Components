@using FluentValidation
@using System.Text.RegularExpressions
@namespace Masa.Stack.Components.Forms
@inherits MasaComponentBase

<MForm Model="this" EnableValidation
       Class="full-height d-flex flex-column justify-space-between"
       OnValidSubmit="HandleOnValidSubmit"
       @ref="_form">
    <div style="margin-top: 50%; transform: translateY(-50%);">
        <SDefaultTextField @bind-Value="PhoneNumber"
                          OnInput="ValidatePhoneNumber"
                          TValue="string"
                          Label="@T("PhoneNumber")"
                          Readonly="@_isDirty"
                          HideDetails="false"
                          Class="mb-6">
        </SDefaultTextField>

        <SDefaultTextField @bind-Value="Captcha"
                          Label="@T("Captcha")"
                          HideDetails="false"
                          Action="@(props => { props.Content = ActionContent; props.Disabled = ActionDisabled; props.OnClick = _ => SendCaptcha(); })">
        </SDefaultTextField>
    </div>
    <SDefaultButton Class="align-self-center" Large Type="submit">@T("Ok")</SDefaultButton>
</MForm>
